<!DOCTYPE html>
<html style="height: 100%">

<head>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">

    <link rel="stylesheet" href="menu.css">
    <link rel="stylesheet" href="tooltip.css">
    <link rel="stylesheet" href="switch.css">
    <link rel="stylesheet" href="charts.css">
    <link rel="stylesheet" href="alerts.css">
    <link rel="stylesheet" href="datepicker.css">
    <link rel="stylesheet" href="landing.css">
    <link rel="stylesheet" href="mines.css">
    <link rel="stylesheet" href="callup.css">

</head>

<body style="height: 100%; margin: 0">




    <div ng-app="myApp" ng-controller="myCtrl">
        <!-- <i class="fas fa-camera"></i> -->
        <div id="site_menu">

            <div class="navbar">
                <div class="navleft">
                    <div>COMPANY LOGO</div>
                    <!-- <a href="#news">News</a> -->


                    <div class="dropdown">
                        <div class="dropbtn">Short Interval Control</div>
                        <!-- <i class="fa fa-caret-down"></i> -->
                        <div class="dropdown-content">
                            <div class="siteCard" ng-repeat="x in siteData  | limitTo:3" ng-init="siteIndex = $index">
                                <img ng-src="assets/img/site_{{siteIndex}}.jpg">
                                <h2>{{x.name}}</h2>

                                <h4>Analysis</h4>
                                <div><a ng-href="">Bogger Movements</a></div>
                                <div><a ng-href="">Hauling Movements</a></div>
                                <div><a ng-href="">Drill Meters</a></div>
                                </br>

                                <h4>Materials</h4>
                                <div><a ng-href="">Production Tonnes</a></div>
                                <div><a ng-href="">Development Tonnes</a></div>
                                </br>

                                <div class="siteCardGrid">
                                    <div>
                                        <h3>Boggers</h3>
                                        <div ng-repeat="y in x.equipmentByFunction.LOADING" ng-hide="$first">
                                            <a ng-href="">{{ y.ID }}</a>
                                        </div>
                                    </div>

                                    <div>
                                        <h3>Trucks</h3>
                                        <div ng-repeat="y in x.equipmentByFunction.HAULING" ng-hide="$first">
                                            <a ng-href="">{{ y.ID }}</a>
                                        </div>
                                    </div>

                                    <div>
                                        <h3>Drills</h3>
                                        <div ng-repeat="y in x.equipmentByFunction.P" ng-hide="$first">
                                            <a ng-href="">{{ y.ID }}</a>
                                        </div>
                                        <div ng-repeat="y in x.equipmentByFunction.D" ng-hide="$first">
                                            <a ng-href="">{{ y.ID }}</a>
                                        </div>
                                    </div>
                                </div>
                            </div>



                        </div>
                    </div>

                    <div class="dropdown">
                        <div class="dropbtn">Monthly Compliance</div>
                        <div class="dropdown-content">
                            <div class="droplist">
                                <h3>Forms</h3>
                                <a href="#">Adjust Target Inputs</a>

                                <h3>Mines</h3>
                                <a href="#">Plan vs Compliance</a>
                                <a href="#">Material Movements</a>

                                <h3>Equipment</h3>
                                <a href="#">Link 1</a>
                                <a href="#">Link 2</a>
                                <a href="#">Link 3</a>
                            </div>
                        </div>
                    </div>

                    <div class="dropdown">
                        <div class="dropbtn">Reports & Analysis</div>
                        <div class="dropdown-content">
                            <div class="droplist">

                                <h3>Call Ups</h3>
                                <h5>Day Shift</h5>
                                <a href="#">First Call-up</a>
                                <a href="#">Last Call-up</a>

                                <h5>Night Shift</h5>
                                <a href="#">First Call-up</a>
                                <a href="#">Last Call-up</a>

                                <h3>Equipment</h3>
                                <a href="#">Downtime Report</a>
                                <a href="#">Material Movements</a>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="navright">
                    <div class="util">
                        <div class="utilbtn userbtn"><i class="far fa-user"></i></div>
                        <div class="dropdown-content">
                            <h3><i class="far fa-user"></i> User</h3>
                            <div><a href="#">Log-out</a></div>
                            <div><a href="#">Report Issue</a></div>
                            <div><a href="#">User Manual</a></div>
                            <div><a href="#">About</a></div>
                        </div>
                    </div>
                    <div class="util">
                        <div class="utilbtn"><i class="far fa-bell"></i><span class="alert-badge"
                                ng-bind="alerts.length" ng-hide="alerts.length < 1"></span></div>
                        <div class="dropdown-content">

                            <h3><i class="far fa-bell"></i> Alerts</h3>

                            <div ng-repeat="alert in alerts">
                                <div ng-class="alert.level == 0? 'alertgrid a0' : 'alertgrid a1'">
                                    <div>
                                        <h2><i
                                                ng-class="alert.level == 0 ? 'fas fa-exclamation-circle' : 'fas fa-exclamation-triangle'"></i>
                                        </h2>
                                    </div>
                                    <div>
                                        {{alert.time}}
                                        </br>
                                        {{alert.id}}
                                        <!-- <a ng-href="" ng-class="alert.level == 0? 'a0' : 'a1'">{{alert.id}}</a> -->
                                    </div>

                                    <div>
                                        <h5>{{alert.message}}</h5>
                                    </div>
                                    <div><span class="alertclose"
                                            onclick="this.parentElement.parentElement.style.display='none';">&times;</span>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="util">
                        <div class="utilbtn"><i class="fas fa-database"></i></div>
                        <div class="dropdown-content">

                            <h3> <i class="fas fa-database"></i> DB Connection</h3>
                            <div class="utilgrid">

                                <div>IP</div>
                                <div>192.168.0.1</div>


                                <div>Connection Status</div>
                                <div>OK!</div>

                                <div>Last Data Pull</div>
                                <div>2018-10-10</div>

                                <div>Next Data Pull</div>
                                <div>9min</div>

                                <div>Local Data Size</div>
                                <div>1.5mb</div>
                            </div>

                        </div>
                    </div>


                    <div class="util">
                        <div class="utilbtn"><i class="fas fa-cogs"></i></div>
                        <div class="dropdown-content">

                            <h3><i class="fas fa-cogs"></i> Preferences</h3>
                            <div class="utilgrid">
                                <div>Data Date</div>
                                <div><input type="date"></div>

                                <div>Current Shift</div>
                                <div>
                                    <label class="switch"><input type="checkbox" id="togBtn" checked>
                                        <div class="slider round" switch-on="Day" switch-off="Night"></div>
                                    </label>
                                </div>

                                <div>Equipment Alerts</div>
                                <div>
                                    <label class="switch"><input type="checkbox" id="togBtn" checked>
                                        <div class="slider round" switch-on="Active" switch-off="Off"></div>
                                    </label>
                                </div>
                            </div>
                            <h3><i class="fas fa-search"></i> Equipment Search</h3>
                            <input type="text" ng-model="search.id" ng-init="search.id ='Search by ID...'">
                            <div ng-repeat="x in siteData  | limitTo:3" ng-init="siteIndex = $index">
                                <div ng-repeat="y in x.equipment | filter:search" ng-hide="$first"><a
                                        ng-href="">{{ y.id }}</a></div>
                            </div>
                        </div>
                    </div>


                    <!-- <div>10/10/2018</i></div> -->
                </div>
            </div>
        </div>




        <div id="site_body">
            <div class="cup">

                <div class="mines-center">

                    <div class="flex">
                        <div class="left">
                            <div class="flex flex-start">
                                <img class="sitePicBig" ng-src="assets/img/site_{{siteIndex}}.jpg">
                                <div>
                                    <h2 class="left">{{dataSite}}</h2>
                                    <h4>10th November 2018</h4>
                                </div>

                            </div>
                        </div>

                        <div class="overline underline">
                            <h5 class="light"><i class="fas fa-weight-hanging"></i> Target Tonnes</h5>
                            <h3 class="underline">{{compliance.target | number : 0}}</h3>
                            <h5 class="light"><i class="fas fa-chart-line"></i></i> Current Average</h5>
                            <h3> {{compliance.avgCurrent | number:2}}</h3>
                        </div>

                        <div class="overline underline">
                            <h5 class="light"><i class="fas fa-weight-hanging"></i> Actual Tonnes</h5>
                            <h3 class="underline">{{compliance.actual | number: 0}}</h3>
                            <h5 class="light"><i class="fas fa-chart-line"></i></i> Required Average</h5>
                            <h3>{{compliance.avgRequired | number:2}}</h3>
                        </div>

                        <div>
                            <h4 class="light">Spatial Compliance</h4>
                            <h1 style="text-align: center">
                                {{compliance.spatialCompliance*100 | number : 2}}%</h1>
                        </div>

                        <div>
                            <h4 class="light">Volumetric Compliance</h4>
                            <h1 style="text-align: center">
                                {{compliance.volumetricCompliance*100 | number : 2}}%</h1>
                        </div>

                        <div class="overline underline">
                            <h5 class="light"><i class="fas fa-clock"></i> Time Remaining</h5>
                            <h3 class="underline">15D 12Hrs</h3>
                            <h5 class=" light"><i class="fas fa-clock"></i></i> Month Passed</h5>
                            <h3>58%</h3>
                        </div>


                        <div class="right">



                            <!-- <div ng-repeat="(key, value) in compliance">
                                <h5> {{key}} : {{ value }} </h5>
                            </div> -->
                        </div>
                    </div>
                    </br>
                    </br>
                    <div id="monthlyChart" class="h60pc">asdasd</div>


                </div>

            </div>
        </div>


    </div>








    <script type="text/javascript" src="echarts.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" crossorigin="anonymous"></script>

    <script type="text/javascript" src="ChartStyles.js"></script>
    <script type="text/javascript" src="Charts.js"></script>
    <script type="text/javascript" src="ChartsMines.js"></script>
    <script type="text/javascript" src="ChartsMonthly.js"></script>



    <script type="text/javascript">


        // Fake NG Data
        var app = angular.module("myApp", []);
        var shift = 0;

        const capitalize = (s) => {
            if (typeof s !== 'string') return ''
            return s.charAt(0).toUpperCase() + s.slice(1)
        }

        app.controller("myCtrl", function ($scope, $timeout) {

            $scope.siteIndex = 1;
            $scope.dataSite = "Western Flanks";

            var response = [{ "WF4540D13": [[360, 414, 0, 0, 1170, 900, 1296, 720, 612, 828, 1260, 270, 0, 522, 1260, 540, 1116, 1134, 1440, 0, 0, 0, 0, 0, 0, 0, 54, 684, 0, 0, 0], [360, 774, 774, 774, 1944, 2844, 4140, 4860, 5472, 6300, 7560, 7830, 7830, 8352, 9612, 10152, 11268, 12402, 13842, 13842, 13842, 13842, 13842, 13842, 13842, 13842, 13896, 14580, 14580, 14580, 14580], ["14000", "Ore", "Production Stope", "WF", "4540", "D13", 360, "WF4540D13"]], "WF4540D15": [[1476, 1746, 2466, 360, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 42, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2430, 4410, 1738, 3258], [1476, 3222, 5688, 6048, 6048, 6048, 6048, 6048, 6048, 6048, 6048, 6048, 6048, 6048, 6090, 6090, 6090, 6090, 6090, 6090, 6090, 6090, 6090, 6090, 6090, 6090, 6090, 8520, 12930, 14668, 17926], ["16500", "Ore", "Production Stope", "WF", "4540", "D15", 1476, "WF4540D15"]], "WF4555D30": [[2772, 774, 2052, 1890, 1530, 396, 0, 540, 1116, 2286, 3024, 180, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2772, 3546, 5598, 7488, 9018, 9414, 9414, 9954, 11070, 13356, 16380, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560, 16560], ["17500", "Ore", "Production Stope", "WF", "4555", "D30", 2772, "WF4555D30"]], "WF4555OD0": [[198, 0, 54, 0, 0, 414, 0, 0, 0, 0, 0, 0, 0, 0, 306, 0, 0, 0, 0, 0, 54, 510, 0, 630, 18, 567, 18, 360, 0, 18, 0], [198, 198, 252, 252, 252, 666, 666, 666, 666, 666, 666, 666, 666, 666, 972, 972, 972, 972, 972, 972, 1026, 1536, 1536, 2166, 2184, 2751, 2769, 3129, 3129, 3147, 3147], ["4000", "Ore", "Development Horizontal", "WF", "4555", "OD0", 198, "WF4555OD0"]], "WF4540PD0": [[0, 54, 468, 54, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 522, 0, 90, 0, 360, 0, 0, 0, 0, 72, 270, 54, 72, 0, 0, 198], [0, 54, 522, 576, 576, 576, 576, 576, 576, 576, 576, 576, 576, 576, 576, 1098, 1098, 1188, 1188, 1548, 1548, 1548, 1548, 1548, 1620, 1890, 1944, 2016, 2016, 2016, 2214], ["5000", "Ore", "Development Horizontal", "WF", "4540", "PD0", 54, "WF4540PD0"]], "WF4490HD0": [[0, 0, 21, 0, 396, 36, 0, 18, 0, 0, 72, 0, 0, 0, 0, 0, 0, 432, 84, 0, 0, 0, 0, 0, 414, 54, 0, 144, 0, 414, 0], [0, 0, 21, 21, 417, 453, 453, 471, 471, 471, 543, 543, 543, 543, 543, 543, 543, 975, 1059, 1059, 1059, 1059, 1059, 1059, 1473, 1527, 1527, 1671, 1671, 2085, 2085], ["4500", "Ore", "Development Horizontal", "WF", "4490", "HD0", 21, "WF4490HD0"]], "WF4555D32": [[0, 0, 0, 0, 0, 774, 270, 0, 0, 0, 0, 0, 0, 0, 1314, 0, 1224, 1440, 1980, 720, 0, 0, 0, 1026, 1980, 2520, 2340, 2466, 0, 0, 0], [0, 0, 0, 0, 0, 774, 1044, 1044, 1044, 1044, 1044, 1044, 1044, 1044, 2358, 2358, 3582, 5022, 7002, 7722, 7722, 7722, 7722, 8748, 10728, 13248, 15588, 18054, 18054, 18054, 18054], ["11111", "Ore", "Production Stope", "WF", "4555", "D32", 774, "WF4555D32"]], "WF4570D28": [[0, 0, 0, 0, 0, 0, 1674, 0, 0, 0, 0, 0, 0, 0, 306, 1440, 0, 0, 0, 180, 2700, 3330, 1080, 468, 0, 0, 0, 90, 1314, 0, 0], [0, 0, 0, 0, 0, 0, 1674, 1674, 1674, 1674, 1674, 1674, 1674, 1674, 1980, 3420, 3420, 3420, 3420, 3600, 6300, 9630, 10710, 11178, 11178, 11178, 11178, 11268, 12582, 12582, 12582], ["7500", "Ore", "Production Rings", "WF", "4570", "D28", 1674, "WF4570D28"]], "WF4555D34": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1728, 360, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1752, 1080, 1080], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1728, 2088, 2088, 2088, 2088, 2088, 2088, 2088, 2088, 2088, 2088, 2088, 2088, 2088, 2088, 3840, 4920, 6000], ["8000", "Ore", "Production Stope", "WF", "4555", "D34", 1728, "WF4555D34"]], "WF4555SU0": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36], [0, "Ore", "Development Horizontal", "WF", "4555", "SU0", 36, "WF4555SU0"]], "WF4570D26": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 990, 756, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 990, 1746, 1746, 1746, 1746, 1746, 1746, 1746, 1746, 1746, 1746, 1746, 1746, 1746, 1746, 1746], ["9500", "Ore", "Production Stope", "WF", "4570", "D26", 990, "WF4570D26"]], "WF4540D17": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 540, 414, 0, 1134, 2250, 720, 1242, 2196, 3060, 2556, 2430, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 540, 954, 954, 2088, 4338, 5058, 6300, 8496, 11556, 14112, 16542, 16542, 16542, 16542, 16542], ["18000", "Ore", "Production Stope", "WF", "4540", "D17", 540, "WF4540D17"]], "WF4540OD1": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 144, 0, 0, 0, 0, 0, 180, 0, 234, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 144, 144, 144, 144, 144, 144, 324, 324, 558, 558, 558, 558, 558], [0, "Ore", "Development Horizontal", "WF", "4540", "OD1", 144, "WF4540OD1"]], "WF4540OD0": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 108, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 108, 108, 108, 108, 108, 108, 108, 108, 108], [0, "Ore", "Development Horizontal", "WF", "4540", "OD0", 108, "WF4540OD0"]], "WF4540D19": [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 36, 36, 36], [0, "Ore", "Production Stope", "WF", "4540", "D19", 36, "WF4540D19"]] }, { "target": 115611, "actual": 107638, "overmined": 13343, "avgRequired": 3729.39, "avgCurrent": 3844.21, "spatialCompliance": 1.0464, "volumetricCompliance": 0.931 }];

            $scope.data = response[0];
            $scope.compliance = response[1];

            // Pretending that it is this month


            console.log($scope.data);
            //console.log($scope.compliance);

            ChartsMonthly.CreateMonthlyCompliance("monthlyChart", $scope.data);

        });



    </script>
</body>

</html>